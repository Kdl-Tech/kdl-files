@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ── Base ──────────────────────────────────────────────────────────────────── */
@layer base {
  html {
    @apply bg-dark-950 text-slate-100;
    scroll-behavior: smooth;
  }
  * { @apply box-border; }
  body {
    background-color: #050810;
    background-image:
      radial-gradient(ellipse 80% 50% at 50% -10%, rgba(99,102,241,0.12) 0%, transparent 60%),
      radial-gradient(ellipse 60% 40% at 80% 60%, rgba(139,92,246,0.06) 0%, transparent 50%);
    background-attachment: fixed;
    font-family: 'Inter', system-ui, sans-serif;
    -webkit-font-smoothing: antialiased;
    user-select: none;
    overflow: hidden;
  }
  ::-webkit-scrollbar        { width: 5px; height: 5px; }
  ::-webkit-scrollbar-track  { background: transparent; }
  ::-webkit-scrollbar-thumb  { @apply bg-dark-500 rounded-full; }
  ::-webkit-scrollbar-thumb:hover { background: #2a3d60; }
}

/* ── Composants ──────────────────────────────────────────────────────────── */
@layer components {
  .card {
    background: rgba(13, 20, 36, 0.8);
    border: 1px solid rgba(255,255,255,0.06);
    box-shadow: 0 4px 24px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.04);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    @apply rounded-2xl p-5;
    transition: border-color 0.2s, box-shadow 0.2s;
  }
  .card:hover {
    border-color: rgba(99,102,241,0.2);
    box-shadow: 0 8px 40px rgba(0,0,0,0.5), inset 0 1px 0 rgba(255,255,255,0.06);
  }
  .card-premium {
    position: relative;
    background: rgba(13, 20, 36, 0.9);
    @apply rounded-2xl p-5;
  }
  .card-premium::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    padding: 1px;
    background: linear-gradient(135deg, rgba(99,102,241,0.4), rgba(139,92,246,0.2), rgba(6,182,212,0.2));
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
  }
  .btn-primary {
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    @apply text-white px-5 py-2.5 rounded-xl font-semibold text-sm;
    box-shadow: 0 4px 15px rgba(99,102,241,0.35);
    transition: all 0.2s;
  }
  .btn-primary:hover:not(:disabled) {
    background: linear-gradient(135deg, #4f46e5, #7c3aed);
    box-shadow: 0 6px 20px rgba(99,102,241,0.5);
    transform: translateY(-1px);
  }
  .btn-primary:active:not(:disabled) { transform: translateY(0); }
  .btn-primary:disabled { opacity: 0.5; cursor: not-allowed; }
  .btn-secondary {
    background: rgba(30, 45, 74, 0.8);
    border: 1px solid rgba(255,255,255,0.08);
    @apply text-slate-300 px-5 py-2.5 rounded-xl font-semibold text-sm;
    transition: all 0.2s;
  }
  .btn-secondary:hover { background: rgba(42, 61, 96, 0.8); @apply text-white; }
  .btn-ghost {
    @apply text-slate-400 px-4 py-2 rounded-xl text-sm font-medium;
    transition: all 0.2s;
  }
  .btn-ghost:hover { @apply text-slate-200 bg-dark-700; }
  .badge-ok       { @apply inline-flex items-center gap-1 bg-emerald-500/15 text-emerald-400 border border-emerald-500/25 text-xs px-2.5 py-1 rounded-full font-medium; }
  .badge-warning  { @apply inline-flex items-center gap-1 bg-amber-500/15   text-amber-400   border border-amber-500/25   text-xs px-2.5 py-1 rounded-full font-medium; }
  .badge-critical { @apply inline-flex items-center gap-1 bg-rose-500/15    text-rose-400    border border-rose-500/25    text-xs px-2.5 py-1 rounded-full font-medium; }
  .badge-info     { @apply inline-flex items-center gap-1 bg-cyan-500/15    text-cyan-400    border border-cyan-500/25    text-xs px-2.5 py-1 rounded-full font-medium; }
  .badge-brand    { @apply inline-flex items-center gap-1 bg-brand/15       text-brand-light border border-brand/25       text-xs px-2.5 py-1 rounded-full font-medium; }
  .input {
    @apply w-full bg-dark-700 rounded-xl px-4 py-3 text-slate-100 text-sm;
    border: 1px solid rgba(255,255,255,0.08);
    outline: none;
    transition: border-color 0.2s, box-shadow 0.2s;
  }
  .input::placeholder { @apply text-slate-600; }
  .input:focus {
    border-color: rgba(99,102,241,0.6);
    box-shadow: 0 0 0 3px rgba(99,102,241,0.15);
  }
  .text-gradient {
    background: linear-gradient(135deg, #818cf8 0%, #a78bfa 50%, #22d3ee 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  .section-title { @apply text-xs font-semibold tracking-widest uppercase text-slate-500 mb-4; }
  .divider       { @apply border-t border-white/5 my-5; }

  /* Drag zone pour TitleBar */
  .drag-region { -webkit-app-region: drag; }
  .no-drag     { -webkit-app-region: no-drag; }

  /* Ligne de fichier sélectionnée */
  .file-row { @apply flex items-center gap-3 px-3 py-2 rounded-lg cursor-pointer text-sm text-slate-300; transition: background 0.1s; }
  .file-row:hover   { @apply bg-dark-700; }
  .file-row.selected { @apply bg-brand/20 text-slate-100; }
}

/* ── Utilities ───────────────────────────────────────────────────────────── */
@layer utilities {
  .glass {
    background: rgba(13, 20, 36, 0.7);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
  }
  .animate-slide-up { animation: slide-up 0.4s ease-out both; }
  .animation-delay-100 { animation-delay: 0.1s; }
  .animation-delay-200 { animation-delay: 0.2s; }
}
